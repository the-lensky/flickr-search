{"version":3,"sources":["contex/actions.ts","contex/reducer.ts","contex/state.tsx","components/header/Header.tsx","components/sidebar/Sidebar.tsx","components/search/Search.tsx","components/imageItem/ImageItem.tsx","components/imageList/ImageList.tsx","components/pagination/Pagination.tsx","components/main/Main.tsx","components/bookmarksItem/BookmarksItem.tsx","components/bookmarksList/BookmmarksList.tsx","components/footer/Footer.tsx","App.tsx","index.tsx"],"names":["SET_IMAGES","SET_RESPONSE_DATA","ADD_TO_BOOKMARKS","REMOVE_FROM_BOOKMARKS","FETCH_NEXT_PAGE","FETCH_PREV_PAGE","ADD_TAG","SET_SEARCH_QUERY","reducer","state","action","type","images","payload","responseData","data","currentPage","isResetCurrentPage","bookmarks","filter","image","id","newArr","map","tag","searchQuery","actions","query","initialState","localStorage","getItem","JSON","parse","setResponseData","setImages","addToBookmarks","removeFromBookmarks","setNextPage","setPrevPage","addTag","setSearchQuery","ImageContext","createContext","ImageProvider","children","useReducer","dispatch","useEffect","setItem","stringify","Provider","value","Header","className","href","rel","target","Sidebar","exact","to","activeClassName","Search","getImages","placeholder","onChange","e","handleChange","onKeyDown","key","onClick","Image","props","useState","setTag","title","farm","server","secret","useContext","imgPath","btnDisabler","find","src","alt","disabled","ImageList","length","Pagination","pages","disablePrevBtn","disableNextBtn","Main","API_URL","process","toLowerCase","trim","fetch","then","response","json","photos","photo","err","console","log","BookmarkList","bookmark","Footer","Date","getFullYear","App","basename","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0a4f1093.chunk.js","sourcesContent":["export const SET_IMAGES = 'SET_IMAGES'\r\nexport const SET_RESPONSE_DATA = 'SET_RESPONSE_DATA'\r\nexport const ADD_TO_BOOKMARKS = 'ADD_TO_BOOKMARKS'\r\nexport const REMOVE_FROM_BOOKMARKS = 'REMOVE_FROM_BOOKMARKS'\r\nexport const FETCH_NEXT_PAGE = 'FETCH_NEXT_PAGE'\r\nexport const FETCH_PREV_PAGE = 'FETCH_PREV_PAGE'\r\nexport const ADD_TAG = 'ADD_TAG'\r\nexport const SET_SEARCH_QUERY = 'SET_SEARCH_QUERY'\r\n\r\n","import {\r\n    ADD_TO_BOOKMARKS,\r\n    SET_IMAGES,\r\n    SET_RESPONSE_DATA,\r\n    REMOVE_FROM_BOOKMARKS,\r\n    FETCH_NEXT_PAGE,\r\n    FETCH_PREV_PAGE,\r\n    ADD_TAG,\r\n    SET_SEARCH_QUERY\r\n} from './actions'\r\n\r\nimport {ActionsTypes, ImageType, TInitialState} from './state'\r\n\r\n\r\nexport function reducer(state: TInitialState, action: ActionsTypes) {\r\n    switch (action.type) {\r\n\r\n        case SET_IMAGES: {\r\n            return {\r\n                ...state,\r\n                images: action.payload || []\r\n            }\r\n        }\r\n\r\n        case SET_RESPONSE_DATA: {\r\n            return {\r\n                ...state,\r\n                responseData: action.payload.data,\r\n                currentPage: action.payload.isResetCurrentPage ? 1 : state.currentPage\r\n            }\r\n        }\r\n\r\n        case FETCH_NEXT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: state.currentPage + 1\r\n            }\r\n        }\r\n\r\n        case FETCH_PREV_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: state.currentPage - 1\r\n            }\r\n        }\r\n\r\n        case ADD_TO_BOOKMARKS: {\r\n            return {\r\n                ...state,\r\n                bookmarks: [...state.bookmarks, action.payload] || []\r\n            }\r\n        }\r\n\r\n        case REMOVE_FROM_BOOKMARKS: {\r\n            return {\r\n                ...state,\r\n                bookmarks: state.bookmarks.filter((image: ImageType) => image.id !== action.payload)\r\n            }\r\n        }\r\n\r\n        case ADD_TAG: {\r\n            const newArr = state.images.map((image: ImageType) => {\r\n                if (image.id === action.payload.id) {\r\n                    return {...image, tag: action.payload.tag}\r\n                } else return image\r\n            })\r\n            return {\r\n                ...state,\r\n                images: newArr\r\n            }\r\n        }\r\n\r\n        case SET_SEARCH_QUERY: {\r\n            return {\r\n                ...state,\r\n                searchQuery: action.payload\r\n            }\r\n        }\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n}","import {createContext, useEffect, useReducer} from 'react'\r\nimport {reducer} from './reducer'\r\nimport {\r\n    ADD_TO_BOOKMARKS,\r\n    SET_IMAGES,\r\n    SET_RESPONSE_DATA,\r\n    REMOVE_FROM_BOOKMARKS,\r\n    FETCH_NEXT_PAGE,\r\n    FETCH_PREV_PAGE,\r\n    ADD_TAG,\r\n    SET_SEARCH_QUERY\r\n} from './actions'\r\n\r\n\r\nexport type TInitialState = typeof initialState\r\n\r\nexport type InferActionsTypes<T> = T extends { [key: string]: infer U }\r\n    ? U\r\n    : never;\r\n\r\nexport type ActionsTypes = ReturnType<InferActionsTypes<typeof actions>>;\r\n\r\nexport const actions = {\r\n    setResponseDataAC: (data: any, isResetCurrentPage: boolean) => ({type: SET_RESPONSE_DATA, payload: {data,isResetCurrentPage}} as const),\r\n    setImagesAC: (data: any) => ({type: SET_IMAGES, payload: data} as const),\r\n    addToBookmarksAC: (image: ImageType) => ({type: ADD_TO_BOOKMARKS, payload: image} as const),\r\n    removeFromBookmarksAC: (id: string) => ({type: REMOVE_FROM_BOOKMARKS, payload: id} as const),\r\n    setNextPageAC: () => ({type: FETCH_NEXT_PAGE} as const),\r\n    setPrevPageAC: () => ({type: FETCH_PREV_PAGE} as const),\r\n    addTagAC: (id: string, tag: string) => ({type: ADD_TAG, payload: {id, tag}} as const),\r\n    setSearchQueryAC: (query: string) => ({type: SET_SEARCH_QUERY, payload: query} as const),\r\n}\r\n\r\nexport type responseDataType = {\r\n    page: number\r\n    pages: number\r\n    perpage: number\r\n    total: number\r\n    photo: Array<ImageType>\r\n}\r\n\r\nexport type ImageType = {\r\n    farm: number\r\n    id: string\r\n    isfamily: number\r\n    isfriend: number\r\n    ispublic: number\r\n    owner: string\r\n    secret: string\r\n    server: string\r\n    title: string\r\n    tag?: string\r\n}\r\n\r\nconst initialState = {\r\n    searchQuery: '',\r\n    responseData: {} as responseDataType,\r\n    currentPage: 1,\r\n    images: [],\r\n    bookmarks: localStorage.getItem('bookmarks')\r\n        ? JSON.parse(localStorage.getItem('bookmarks') as string)\r\n        : [] as Array<ImageType>,\r\n    setResponseData(data: any,isResetCurrentPage:boolean) {\r\n    },\r\n    setImages(data: any) {\r\n    },\r\n    addToBookmarks(data: any) {\r\n    },\r\n    removeFromBookmarks(id: string) {\r\n    },\r\n    setNextPage() {\r\n    },\r\n    setPrevPage() {\r\n    },\r\n    addTag(id: string, tag: string) {\r\n    },\r\n    setSearchQuery(query: string) {\r\n    }\r\n}\r\n\r\n\r\nexport const ImageContext = createContext(initialState)\r\n\r\nexport const ImageProvider: React.FC = ({children}) => {\r\n\r\n    const [state, dispatch] = useReducer(reducer, initialState)\r\n\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('bookmarks', JSON.stringify(state.bookmarks))\r\n    }, [state])\r\n\r\n\r\n    state.setResponseData = (data: any, isResetCurrentPage: boolean) => {\r\n        dispatch(actions.setResponseDataAC(data, isResetCurrentPage))\r\n    }\r\n\r\n    state.setImages = (data: Array<ImageType>) => {\r\n        dispatch(actions.setImagesAC(data))\r\n    }\r\n\r\n    state.addToBookmarks = (image: any) => {\r\n        dispatch(actions.addToBookmarksAC(image))\r\n    }\r\n\r\n    state.removeFromBookmarks = (id: string) => {\r\n        dispatch(actions.removeFromBookmarksAC(id))\r\n    }\r\n\r\n    state.setNextPage = () => {\r\n        dispatch(actions.setNextPageAC())\r\n    }\r\n\r\n    state.setPrevPage = () => {\r\n        dispatch(actions.setPrevPageAC())\r\n    }\r\n\r\n    state.addTag = (id: string, tag: string) => {\r\n        dispatch(actions.addTagAC(id, tag))\r\n    }\r\n\r\n    state.setSearchQuery = (query: string) => {\r\n        dispatch(actions.setSearchQueryAC(query))\r\n    }\r\n\r\n    return (\r\n        <ImageContext.Provider value={state}>{children}</ImageContext.Provider>\r\n    )\r\n}","\r\n\r\nconst Header = () => {\r\n    return (\r\n        <nav className='grey darken-4 header nav-wraper'>\r\n            <div className=\"nav-wrapper\">\r\n                <a href=\"/\" className=\"brand-logo\">Image Finder</a>\r\n                <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n                    <li>\r\n                        <a href=\"https://github.com/the-lensky/flickr-search\" rel=\"noreferrer\" target=\"_blank\">\r\n                            <i className=\"large material-icons\">account_circle</i>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import './Sidebar.css'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nfunction Sidebar() {\r\n    return (\r\n        <div className='wrapper-icon'>\r\n            <NavLink\r\n                exact\r\n                to=\"/\"\r\n                activeClassName='activeIcon'\r\n            >\r\n                <i className=\"material-icons large icon\">search</i>\r\n            </NavLink>\r\n            <NavLink\r\n                to=\"/bookmarks\"\r\n                activeClassName='activeIcon'\r\n            >\r\n                <i className=\"material-icons large icon\">star</i>\r\n            </NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar","import React, {KeyboardEvent} from 'react'\r\n\r\nimport './Search.css'\r\n\r\ntype SearchPropsType = {\r\n    getImages: (query: string, isResetCurrentPage:boolean) => void,\r\n    searchQuery: string,\r\n    setSearchQuery: (query: string) => void\r\n}\r\n\r\nconst Search: React.FC<SearchPropsType> = ({getImages, searchQuery, setSearchQuery}) => {\r\n\r\n    const handleChange = ((e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setSearchQuery(e.target.value)\r\n    })\r\n\r\n    const handleKey = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === 'Enter') {\r\n            getImages(searchQuery, true)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='row '>\r\n            <div className='input-field col s12'>\r\n                <input\r\n                    type='text'\r\n                    id='search-field'\r\n                    placeholder='Find images'\r\n                    value={searchQuery}\r\n                    onChange={(e) => handleChange(e)}\r\n                    onKeyDown={handleKey}\r\n                />\r\n                <i\r\n                    className=\"material-icons prefix large icon search-icon\"\r\n                    onClick={() => getImages(searchQuery,true)}\r\n                >search</i>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search","import React, {KeyboardEvent, useContext, useState} from 'react'\r\nimport './ImageItem.css'\r\nimport {ImageContext, ImageType} from '../../contex/state'\r\n\r\n\r\nconst Image = (props: any) => {\r\n\r\n    const [tag, setTag] = useState('')\r\n\r\n    const {title, farm, server, secret, id} = props\r\n\r\n    const {addToBookmarks, bookmarks, addTag} = useContext(ImageContext)\r\n\r\n    const imgPath = `https://farm${farm}.staticflickr.com/${server}/${id}_${secret}.jpg`\r\n\r\n    const savedImage = bookmarks.find((image: ImageType) => image.id === id)\r\n\r\n    const btnDisabler = savedImage ? true : false\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setTag(e.target.value)\r\n    }\r\n\r\n    const handleKey = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === 'Enter') {\r\n            addTag(id, tag)\r\n            setTag('')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"card grey darken-4\">\r\n            <div className=\"card-image \">\r\n                <img src={imgPath} alt={title}/>\r\n            </div>\r\n            <div className=\"card-content grey darken-4\">\r\n                <span className=\"card-title\">{title}</span>\r\n            </div>\r\n            <div className=\"card-action\">\r\n                <button\r\n                    className=\"btn grey darken-1 \"\r\n                    onClick={() => addToBookmarks(props)}\r\n                    disabled={btnDisabler}\r\n                    type=\"submit\"\r\n                >\r\n                    В избранное\r\n                </button>\r\n            </div>\r\n            <div className=\"card-action\">\r\n                <input\r\n                    placeholder='some tags?'\r\n                    value={tag}\r\n                    type='text'\r\n                    onChange={handleChange}\r\n                    onKeyDown={handleKey}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Image\r\n\r\n\r\n// <div className='col s12 m6 l4 '>\r\n//     <img className='card-image' src={imgPath} alt={title}/>\r\n//     <p>{title}</p>\r\n//     <button\r\n//         className=\"btn grey darken-4\"\r\n//         onClick={() => addToBookmarks(props)}\r\n//         disabled={btnDisabler}\r\n//     >\r\n//         В избранное\r\n//     </button>\r\n// </div>","import React, {useContext} from 'react'\r\nimport ImageItem from '../imageItem/ImageItem'\r\nimport './ImageList.css'\r\nimport {ImageContext, ImageType} from '../../contex/state'\r\n\r\nconst ImageList = () => {\r\n\r\n    const {images} = useContext(ImageContext)\r\n\r\n    if (!images.length) {\r\n        return <h4>No images here. Would you try to search for anything esle?</h4>\r\n    }\r\n\r\n    return (\r\n        <div className='images'>\r\n            {\r\n                images.map((image: ImageType) => (<ImageItem key={image.id} {...image} />))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImageList","import {useContext} from 'react'\r\nimport {ImageContext} from '../../contex/state'\r\n\r\nimport './Pagination.css'\r\n\r\nconst Pagination = () => {\r\n\r\n    const {responseData, setNextPage, setPrevPage, currentPage} = useContext(ImageContext)\r\n\r\n    const {pages} = responseData\r\n\r\n    const disablePrevBtn = currentPage < 2 ? true : false\r\n\r\n    const disableNextBtn = currentPage >= pages ? true : false\r\n\r\n    return (\r\n\r\n        <ul className=\"pagination pagination-wrapper\">\r\n            {!disablePrevBtn\r\n                ? <li className=\" waves-effect \">\r\n                    <button\r\n                        disabled={disablePrevBtn}\r\n                        className='btn grey darken-4'\r\n                        onClick={setPrevPage}\r\n                    >\r\n                        <i className=\"material-icons\">\r\n                            chevron_left</i>\r\n                    </button>\r\n                </li>\r\n                : null\r\n            }\r\n            <li className=\"grey darken-4 page-counter\">{`Page ${currentPage} of ${pages}`}</li>\r\n            {!disableNextBtn\r\n                ? <li className=\" waves-effect \">\r\n                    <button\r\n                        disabled={disableNextBtn}\r\n                        className='btn grey darken-4'\r\n                        onClick={setNextPage}\r\n                    >\r\n                        <i className=\"material-icons\">\r\n                            chevron_right</i>\r\n                    </button>\r\n                </li>\r\n                : null\r\n            }\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Pagination\r\n\r\n\r\n{/*<ul className=\"pagination \">*/\r\n}\r\n{/*    <li ><button  onClick={setPrevPage} disabled={disablePrevBtn ? 'disabled' : ''}><i className=\"material-icons\">chevron_left</i></button></li>*/\r\n}\r\n{/*    <li className=\"active\"><a href=\"#\">{`Page ${page} of ${totalPageCount}`}</a></li>*/\r\n}\r\n{/*    <li ><button  onClick={setNextPage} disabled={disableNextBtn ? 'disabled' : ''}><i className=\"material-icons\">chevron_right</i></button></li>*/\r\n}\r\n{/*</ul>*/\r\n}","import {useContext, useEffect} from 'react'\r\nimport {ImageContext} from '../../contex/state'\r\nimport Search from '../search/Search'\r\nimport ImageList from '../imageList/ImageList'\r\nimport Pagination from '../pagination/Pagination'\r\n\r\nconst API_KEY = process.env.REACT_APP_API_KEY\r\n\r\n\r\nconst Main = () => {\r\n\r\n    const {setImages, images, setResponseData, currentPage, searchQuery, setSearchQuery} = useContext(ImageContext)\r\n\r\n    const API_URL = `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=${API_KEY}&page=${currentPage}&per_page=24&format=json&nojsoncallback=true&text=`\r\n\r\n    const getImages = (query: string, isResetCurrentPage: boolean = false) => {\r\n        try {\r\n            if (query.toLowerCase().trim() !== '') {\r\n                fetch(`${API_URL}${query}`)\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        setResponseData(data.photos, isResetCurrentPage)\r\n                        setImages(data.photos.photo)\r\n                    })\r\n            } else {\r\n                setResponseData({}, isResetCurrentPage)\r\n                setImages([])\r\n            }\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        getImages(searchQuery)\r\n    }, [currentPage])\r\n\r\n\r\n    return (\r\n        <div className='container content grey darken-3'>\r\n            <Search searchQuery={searchQuery} setSearchQuery={setSearchQuery} getImages={getImages}/>\r\n            {images.length ? < Pagination/> : null}\r\n            <ImageList/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main","import React, {useContext} from 'react'\r\nimport {ImageContext, ImageType} from '../../contex/state'\r\nimport '../imageItem/ImageItem.css'\r\n\r\n\r\nconst Image = (props:ImageType) => {\r\n\r\n    const {title, farm, server, secret, id, tag} = props\r\n\r\n    const {removeFromBookmarks} = useContext(ImageContext)\r\n\r\n    let imgPath = `https://farm${farm}.staticflickr.com/${server}/${id}_${secret}.jpg`\r\n\r\n    return (\r\n        <div className=\"card grey darken-4\">\r\n            <div className=\"card-image \">\r\n                <img src={imgPath} alt={title}/>\r\n            </div>\r\n            <div className=\"card-content grey darken-4\">\r\n                <span className=\"card-title\">{title}</span>\r\n            </div>\r\n            <div className=\"card-action\">\r\n                <p>{tag}</p>\r\n                <button\r\n                    className=\"btn grey darken-1 \"\r\n                    onClick={() => removeFromBookmarks(id)}\r\n                    type=\"submit\"\r\n                >\r\n                    Удалить из избранного\r\n                </button>\r\n            </div>\r\n            <div className=\"card-action\">\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Image\r\n\r\n\r\n","import {useContext} from 'react'\r\n\r\nimport '../imageList/ImageList.css'\r\n\r\nimport {ImageContext, ImageType} from '../../contex/state'\r\n\r\nimport BookmarkItem from '../bookmarksItem/BookmarksItem'\r\n\r\n\r\nconst BookmarkList = () => {\r\n\r\n    const {bookmarks} = useContext(ImageContext)\r\n\r\n    return (\r\n        <div className='container content grey darken-3 '>\r\n            {!bookmarks.length\r\n                ? <h4>You have no bookmarks yet :)</h4>\r\n                : null\r\n            }\r\n            <div className='images'>\r\n                {\r\n                    bookmarks.map((bookmark:ImageType) => (<BookmarkItem key={bookmark.id} {...bookmark} />))\r\n                }\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BookmarkList","\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className=\"page-footer grey darken-4 footer\">\r\n            <div className=\"footer-copyright grey darken-4 center\">\r\n                <div className=\"container\">\r\n                    © {new Date().getFullYear()} Have a nice day!😼\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import {BrowserRouter as Router, Route, Switch} from 'react-router-dom'\r\n\r\nimport './App.css'\r\n\r\nimport {ImageProvider} from './contex/state'\r\n\r\nimport Header from './components/header/Header'\r\nimport Sidebar from './components/sidebar/Sidebar'\r\nimport Main from './components/main/Main'\r\nimport BookmarkList from './components/bookmarksList/BookmmarksList'\r\nimport Footer from './components/footer/Footer'\r\n\r\n\r\nconst App = () => {\r\n    return (\r\n        <ImageProvider>\r\n            <Router basename='/flickr-search'>\r\n                <main className='wrapper grey darken-2'>\r\n                    <Header/>\r\n                    <Sidebar/>\r\n                    <Switch>\r\n                        <Route path='/' exact component={Main}/>\r\n                        <Route path='/bookmarks' component={BookmarkList}/>\r\n                    </Switch>\r\n                    <Footer/>\r\n                </main>\r\n            </Router>\r\n        </ImageProvider>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\n\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App/>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n)\r\n\r\n"],"sourceRoot":""}